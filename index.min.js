(function(){function c(o,i,u){function l(r,e){if(!i[r]){if(!o[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(d)return d(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var a=i[r]={exports:{}};o[r][0].call(a.exports,function(e){var t=o[r][1][e];return l(t||e)},a,a.exports,c,o,i,u)}return i[r].exports}for(var d="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}return c})()({1:[function(e,t,r){"use strict";var n=a(e("./modules/UploadFileHandler"));function a(e){return e&&e.__esModule?e:{default:e}}var o=document.querySelector("#upload-file__image");var i=document.querySelector("#upload-preview");n["default"].uploadImage(o,i);n["default"].removeImage(i)},{"./modules/UploadFileHandler":4}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var n=function(){function e(t,r,n){var e=Object.keys(t).filter(function(e){return t[e].isCorrect===false}).map(function(e){return t[e].description});e.forEach(function(e){var t=document.createElement("p");t.classList.add("error-popup");t.innerText="Error: ".concat(e);r.prepend(t);setTimeout(function(){r.removeChild(t)},n)})}return{displayError:e}}();var a=n;r["default"]=a},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var n=function(){var a=function e(t){return t[0].numerator+t[1].numerator/(60*t[1].denominator)+t[2].numerator/(3600*t[2].denominator)};function e(e,n){EXIF.getData(e,function(){var e=a(EXIF.getTag(this,"GPSLongitude"));var t=a(EXIF.getTag(this,"GPSLatitude"));var r={longitude:e,latitude:t};n(r)})}return{returnLongLat:e}}();var a=n;r["default"]=a},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var n=i(e("./ImageGeolocationHandler"));var a=i(e("./ValidateHandler"));var o=i(e("./AlertHandler"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(d){function n(e){var t=document.createElement("ul");var r=document.createElement("li");var n=document.createElement("img");var a=document.createElement("li");var o=document.createElement("li");var i=document.createElement("li");var u=document.createElement("li");var l=document.createElement("li");n.src=URL.createObjectURL(e);r.appendChild(n);a.innerText="File name: ".concat(e.name);o.innerText="File extension: ".concat(e.type);i.innerText="File size: ".concat(e.size);l.innerText="remove item";l.classList.add("btn-remove");n.onload=function(){d.returnLongLat(n,function(e){u.innerText="Picture was taken on longitude: ".concat(e.longitude,", and latitude: ").concat(e.latitude)})};t.appendChild(r);t.appendChild(a);t.appendChild(o);t.appendChild(i);t.appendChild(u);t.appendChild(l);return t}function e(e,r){e.addEventListener("change",function(e){var t=Array.from(e.target.files);t.forEach(function(t){a["default"].validateImage(t,function(e){console.log(e);if(e.hasGPSData.isCorrect&&e.goodFileSize.isCorrect&&e.validFileExtension.isCorrect){r.appendChild(n(t))}else{o["default"].displayError(e,document.querySelector("body"),3e3)}})})})}function t(e){e.addEventListener("click",function(e){if(e.target.className==="btn-remove"){e.target.parentElement.remove()}})}return{uploadImage:e,removeImage:t,singleImageTemplate:n}}(n["default"]);var l=u;r["default"]=l},{"./AlertHandler":2,"./ImageGeolocationHandler":3,"./ValidateHandler":5}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var n=function(){var a=function e(t,r){EXIF.getData(t,function(){var e=EXIF.getTag(this,"GPSLongitude")?true:false;r(e)})};var o=function e(t,r){var n=t/1e3;return n<=r};var i=function e(t,r){return r.includes(t)};var e=function e(t,r){var n={hasGPSData:{isCorrect:false,description:"Image uploaded does not have EXIF metadata on geolocation"},goodFileSize:{isCorrect:false,description:"Image uploaded is to big"},validFileExtension:{isCorrect:false,description:"Bad file format"}};a(t,function(e){n.hasGPSData.isCorrect=e;n.goodFileSize.isCorrect=o(t.size,1e3);n.validFileExtension.isCorrect=i(t.type,["image/jpeg"]);r(n)})};return{validateImage:e}}();var a=n;r["default"]=a},{}]},{},[1]);
//# sourceMappingURL=index.min.js.map
